{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function useDiners() {\n  _s();\n\n  const {\n    jwt\n  } = useContext(Context);\n  const [diners, setDiners] = useState(0);\n  const vistaDiners = useCallback(() => {\n    const item = JSON.stringify(jwt);\n    fetch(\"http://localhost/vistaDiners.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: item\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        alert(\"Error\");\n      } else {\n        setDiners(parseInt(res));\n      }\n    });\n  });\n  const afegirDiners = useCallback(item => {\n    item['jwt'] = jwt;\n    JSON.stringify(item);\n    alert(item);\n    fetch(\"http://localhost/afegirDiners.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: item\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (res) {\n        alert(\"S'ha fet l'ingres correctament\");\n      } else {\n        alert(\"No s'ha pogut fer l'ingrés\");\n      }\n    });\n  });\n  return {\n    diners,\n    vistaDiners,\n    afegirDiners\n  };\n}\n\n_s(useDiners, \"CmLVVud3mlPThL66Ctpwm00nbhU=\");\n\n;","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/Servei_Diners.js"],"names":["React","useCallback","useContext","useState","Context","useDiners","jwt","diners","setDiners","vistaDiners","item","JSON","stringify","fetch","method","headers","body","then","res","json","alert","parseInt","afegirDiners"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,QAAxC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,eAAe,SAASC,SAAT,GAAsB;AAAA;;AACjC,QAAM;AAACC,IAAAA;AAAD,MAAQJ,UAAU,CAACE,OAAD,CAAxB;AACA,QAAM,CAACG,MAAD,EAAQC,SAAR,IAAqBL,QAAQ,CAAC,CAAD,CAAnC;AAEA,QAAMM,WAAW,GAAGR,WAAW,CAAC,MAAM;AAClC,UAAMS,IAAI,GAAGC,IAAI,CAACC,SAAL,CAAeN,GAAf,CAAb;AACAO,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCC,MAAAA,MAAM,EAAE,MAD8B;AAEtCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF6B;AAKtCC,MAAAA,IAAI,EAAEN;AALgC,KAArC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAG,CAACA,GAAJ,EAAQ;AACJE,QAAAA,KAAK,CAAC,OAAD,CAAL;AACH,OAFD,MAEM;AACFZ,QAAAA,SAAS,CAACa,QAAQ,CAACH,GAAD,CAAT,CAAT;AACH;AACJ,KAdD;AAeH,GAjB8B,CAA/B;AAmBA,QAAMI,YAAY,GAAGrB,WAAW,CAAES,IAAD,IAAU;AACvCA,IAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcJ,GAAd;AACAK,IAAAA,IAAI,CAACC,SAAL,CAAeF,IAAf;AACAU,IAAAA,KAAK,CAACV,IAAD,CAAL;AACAG,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF8B;AAKvCC,MAAAA,IAAI,EAAEN;AALiC,KAAtC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAGA,GAAH,EAAO;AACHE,QAAAA,KAAK,CAAC,gCAAD,CAAL;AACH,OAFD,MAEM;AACFA,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACH;AACJ,KAdD;AAeH,GAnB+B,CAAhC;AAqBA,SAAM;AACFb,IAAAA,MADE;AAEFE,IAAAA,WAFE;AAGFa,IAAAA;AAHE,GAAN;AAKH;;GAjDuBjB,S;;AAiDvB","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function useDiners () {\r\n    const {jwt} = useContext(Context);\r\n    const [diners,setDiners] = useState(0);\r\n\r\n    const vistaDiners = useCallback(() => {\r\n        const item = JSON.stringify(jwt);\r\n        fetch(\"http://localhost/vistaDiners.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: item\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                alert(\"Error\")\r\n            }else {\r\n                setDiners(parseInt(res));\r\n            }\r\n        });\r\n    })\r\n\r\n    const afegirDiners = useCallback((item) => {\r\n        item['jwt'] = jwt;\r\n        JSON.stringify(item);\r\n        alert(item);\r\n        fetch(\"http://localhost/afegirDiners.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: item\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(res){\r\n                alert(\"S'ha fet l'ingres correctament\")\r\n            }else {\r\n                alert(\"No s'ha pogut fer l'ingrés\")\r\n            }\r\n        });\r\n    })\r\n\r\n    return{\r\n        diners,\r\n        vistaDiners,\r\n        afegirDiners\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}