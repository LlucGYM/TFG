{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function InfantRegistre() {\n  _s();\n\n  const {\n    jwt,\n    setJWT\n  } = useContext(Context);\n  const [registrat, setRegistrat] = useState(false);\n  const [cursos, setCursos] = useState(null);\n  const registra = useCallback(item => {\n    item['jwt'] = jwt;\n    const cargoUtil = JSON.stringify(item);\n    fetch(\"http://localhost/RegistrarInfant.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: cargoUtil\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (res) {\n        setRegistrat(res);\n        alert(\"Registre correcte\");\n      } else {\n        alert(\"Registre incorrecte, revisa les credencials\");\n      }\n    }).catch(e => alert(e));\n  });\n  const consultaCurs = useCallback(() => {\n    const cargoUtil = JSON.stringify(jwt);\n    fetch(\"http://localhost/ConsultaCurs.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: cargoUtil\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        alert(\"Error consulta curs\");\n      } else {\n        setCursos(res);\n      }\n    }).catch(e => alert(e));\n  });\n  return {\n    registra,\n    registrat,\n    cursos,\n    consultaCurs\n  };\n}\n\n_s(InfantRegistre, \"IKSRqD8Ae4nf5iGcLMp37SZFcqk=\");\n\n_c = InfantRegistre;\n\nvar _c;\n\n$RefreshReg$(_c, \"InfantRegistre\");","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/enviarRegistreInfant.js"],"names":["React","useCallback","useContext","useState","Context","InfantRegistre","jwt","setJWT","registrat","setRegistrat","cursos","setCursos","registra","item","cargoUtil","JSON","stringify","fetch","method","headers","body","then","res","json","alert","catch","e","consultaCurs"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,QAAxC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,eAAe,SAASC,cAAT,GAA0B;AAAA;;AACrC,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAgBL,UAAU,CAACE,OAAD,CAAhC;AACA,QAAM,CAACI,SAAD,EAAYC,YAAZ,IAA4BN,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAM,CAACO,MAAD,EAASC,SAAT,IAAsBR,QAAQ,CAAC,IAAD,CAApC;AAEA,QAAMS,QAAQ,GAAGX,WAAW,CAAEY,IAAD,IAAU;AACnCA,IAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcP,GAAd;AACA,UAAMQ,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAlB;AACAI,IAAAA,KAAK,CAAC,sCAAD,EAAyC;AAC1CC,MAAAA,MAAM,EAAE,MADkC;AAE1CC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAFiC;AAK1CC,MAAAA,IAAI,EAAEN;AALoC,KAAzC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAGA,GAAH,EAAO;AACHb,QAAAA,YAAY,CAACa,GAAD,CAAZ;AACAE,QAAAA,KAAK,CAAC,mBAAD,CAAL;AACH,OAHD,MAGK;AACDA,QAAAA,KAAK,CAAC,6CAAD,CAAL;AACH;AACJ,KAfD,EAeGC,KAfH,CAeSC,CAAC,IAAIF,KAAK,CAACE,CAAD,CAfnB;AAgBH,GAnB2B,CAA5B;AAqBA,QAAMC,YAAY,GAAG1B,WAAW,CAAC,MAAM;AACnC,UAAMa,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeV,GAAf,CAAlB;AACAW,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF8B;AAKvCC,MAAAA,IAAI,EAAEN;AALiC,KAAtC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAG,CAACA,GAAJ,EAAQ;AACJE,QAAAA,KAAK,CAAC,qBAAD,CAAL;AACH,OAFD,MAEK;AACDb,QAAAA,SAAS,CAACW,GAAD,CAAT;AACH;AACJ,KAdD,EAcGG,KAdH,CAcSC,CAAC,IAAIF,KAAK,CAACE,CAAD,CAdnB;AAeH,GAjB+B,CAAhC;AAmBA,SAAO;AACHd,IAAAA,QADG;AAEHJ,IAAAA,SAFG;AAGHE,IAAAA,MAHG;AAIHiB,IAAAA;AAJG,GAAP;AAMH;;GAnDuBtB,c;;KAAAA,c","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function InfantRegistre() {\r\n    const {jwt, setJWT} = useContext(Context);\r\n    const [registrat, setRegistrat] = useState(false);\r\n    const [cursos, setCursos] = useState(null);\r\n\r\n    const registra = useCallback((item) => {\r\n        item['jwt'] = jwt;\r\n        const cargoUtil = JSON.stringify(item);\r\n        fetch(\"http://localhost/RegistrarInfant.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: cargoUtil\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(res){\r\n                setRegistrat(res);\r\n                alert(\"Registre correcte\")\r\n            }else{\r\n                alert(\"Registre incorrecte, revisa les credencials\")\r\n            }\r\n        }).catch(e => alert(e));\r\n    })\r\n\r\n    const consultaCurs = useCallback(() => {\r\n        const cargoUtil = JSON.stringify(jwt);\r\n        fetch(\"http://localhost/ConsultaCurs.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: cargoUtil\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                alert(\"Error consulta curs\");\r\n            }else{\r\n                setCursos(res);\r\n            }\r\n        }).catch(e => alert(e));\r\n    })\r\n\r\n    return {\r\n        registra,\r\n        registrat,\r\n        cursos,\r\n        consultaCurs\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}