{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function ServeiVistaInfant() {\n  _s();\n\n  const {\n    jwt\n  } = useContext(Context);\n  const [profiles, setProfiles] = useState(null);\n  const [fill, setFill] = useState(false);\n  const getInfant = useCallback(() => {\n    const cargoUtil = JSON.stringify(jwt);\n    fetch(\"http://localhost/vistaInfant.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: cargoUtil\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        return setFill(false);\n      } else {\n        setFill(true);\n      }\n\n      setProfiles(res);\n    }).catch(e => alert(e));\n  });\n  const deleteInfant = useCallback(item => {\n    item['jwt'] = jwt;\n    const cargoUtil = JSON.stringify(item);\n    fetch(\"http://localhost/deleteInfant.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: cargoUtil\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (res) {\n        alert(\"S'ha eliminat correctament\");\n        window.location.reload();\n      } else {\n        alert(\"Error en la eliminació\");\n      }\n    }).catch(e => alert(e));\n  });\n  return {\n    profiles,\n    getInfant,\n    fill,\n    deleteInfant\n  };\n}\n\n_s(ServeiVistaInfant, \"b9MJIsA3BQGSw8MgeUkrr/Odzbg=\");\n\n_c = ServeiVistaInfant;\n\nvar _c;\n\n$RefreshReg$(_c, \"ServeiVistaInfant\");","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/Servei_VistaInfant.js"],"names":["React","useCallback","useContext","useState","Context","ServeiVistaInfant","jwt","profiles","setProfiles","fill","setFill","getInfant","cargoUtil","JSON","stringify","fetch","method","headers","body","then","res","json","catch","e","alert","deleteInfant","item","window","location","reload"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,QAAxC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,eAAe,SAASC,iBAAT,GAA6B;AAAA;;AACxC,QAAM;AAACC,IAAAA;AAAD,MAAQJ,UAAU,CAACE,OAAD,CAAxB;AACA,QAAM,CAACG,QAAD,EAAWC,WAAX,IAA0BL,QAAQ,CAAC,IAAD,CAAxC;AACA,QAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,KAAD,CAAhC;AAEA,QAAMQ,SAAS,GAAGV,WAAW,CAAC,MAAM;AAChC,UAAMW,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeR,GAAf,CAAlB;AACAS,IAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCC,MAAAA,MAAM,EAAE,MAD8B;AAEtCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF6B;AAKtCC,MAAAA,IAAI,EAAEN;AALgC,KAArC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAG,CAACA,GAAJ,EAAQ;AAAG,eAAOV,OAAO,CAAC,KAAD,CAAd;AAAsB,OAAjC,MAAuC;AACnCA,QAAAA,OAAO,CAAC,IAAD,CAAP;AACH;;AACDF,MAAAA,WAAW,CAACY,GAAD,CAAX;AACH,KAbD,EAaGE,KAbH,CAaSC,CAAC,IAAIC,KAAK,CAACD,CAAD,CAbnB;AAcH,GAhB4B,CAA7B;AAkBA,QAAME,YAAY,GAAGxB,WAAW,CAAEyB,IAAD,IAAU;AACvCA,IAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcpB,GAAd;AACA,UAAMM,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeY,IAAf,CAAlB;AACAX,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF8B;AAKvCC,MAAAA,IAAI,EAAEN;AALiC,KAAtC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAGA,GAAH,EAAO;AACHI,QAAAA,KAAK,CAAC,4BAAD,CAAL;AACAG,QAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,OAHD,MAGO;AACHL,QAAAA,KAAK,CAAC,wBAAD,CAAL;AACH;AACJ,KAfD,EAeGF,KAfH,CAeSC,CAAC,IAAIC,KAAK,CAACD,CAAD,CAfnB;AAgBH,GAnB+B,CAAhC;AAqBA,SAAO;AACHhB,IAAAA,QADG;AAEHI,IAAAA,SAFG;AAGHF,IAAAA,IAHG;AAIHgB,IAAAA;AAJG,GAAP;AAMH;;GAlDuBpB,iB;;KAAAA,iB","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function ServeiVistaInfant() {\r\n    const {jwt} = useContext(Context);\r\n    const [profiles, setProfiles] = useState(null);\r\n    const [fill, setFill] = useState(false);\r\n\r\n    const getInfant = useCallback(() => {\r\n        const cargoUtil = JSON.stringify(jwt);\r\n        fetch(\"http://localhost/vistaInfant.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: cargoUtil\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){  return setFill(false)} else {\r\n                setFill(true);\r\n            }\r\n            setProfiles(res);\r\n        }).catch(e => alert(e));\r\n    })\r\n\r\n    const deleteInfant = useCallback((item) => {\r\n        item['jwt'] = jwt;\r\n        const cargoUtil = JSON.stringify(item);\r\n        fetch(\"http://localhost/deleteInfant.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: cargoUtil\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(res){\r\n                alert(\"S'ha eliminat correctament\")\r\n                window.location.reload();\r\n            } else {\r\n                alert(\"Error en la eliminació\");\r\n            }\r\n        }).catch(e => alert(e));\r\n    })\r\n\r\n    return {\r\n        profiles,\r\n        getInfant,\r\n        fill,\r\n        deleteInfant\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}