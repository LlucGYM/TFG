{"ast":null,"code":"import React, { useState, useContext } from 'react';\nimport { BehaviorSubject } from 'rxjs';\nimport Context from \"../Context/UserContextProvider\";\nexport const autenticationService = {\n  login,\n  logout\n};\n\nfunction login(item) {\n  const cargoUtil = JSON.stringify(item);\n  alert(cargoUtil);\n  fetch(\"http://localhost/IniciaSessio.php\", {\n    method: \"POST\",\n    headers: {\n      \"Content-Type\": 'application/json'\n    },\n    body: cargoUtil\n  }).then(res => res.json()).then(res => {\n    alert(res);\n    localStorage.setItem('currentUser', JSON.stringify(res));\n    return res;\n  }).catch(err => alert(err));\n}\n\n;\n\nfunction logout() {\n  localStorage.removeItem('currentUser');\n}","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/autenticationservice.js"],"names":["React","useState","useContext","BehaviorSubject","Context","autenticationService","login","logout","item","cargoUtil","JSON","stringify","alert","fetch","method","headers","body","then","res","json","localStorage","setItem","catch","err","removeItem"],"mappings":"AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAyBC,UAAzB,QAA0C,OAA1C;AACA,SAAQC,eAAR,QAA8B,MAA9B;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEC,OAAO,MAAMC,oBAAoB,GAAG;AAChCC,EAAAA,KADgC;AAEhCC,EAAAA;AAFgC,CAA7B;;AAKH,SAASD,KAAT,CAAeE,IAAf,EAAoB;AAChB,QAAMC,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAlB;AACAI,EAAAA,KAAK,CAACH,SAAD,CAAL;AACAI,EAAAA,KAAK,CAAC,mCAAD,EAAqC;AACtCC,IAAAA,MAAM,EAAC,MAD+B;AAEtCC,IAAAA,OAAO,EAAE;AACL,sBAAgB;AADX,KAF6B;AAKtCC,IAAAA,IAAI,EAAEP;AALgC,GAArC,CAAL,CAMGQ,IANH,CAMQC,GAAG,IAAEA,GAAG,CAACC,IAAJ,EANb,EAOEF,IAPF,CAOQC,GAAD,IAAO;AAAEN,IAAAA,KAAK,CAACM,GAAD,CAAL;AACZE,IAAAA,YAAY,CAACC,OAAb,CAAqB,aAArB,EAAoCX,IAAI,CAACC,SAAL,CAAeO,GAAf,CAApC;AACJ,WAAOA,GAAP;AAAW,GATX,EAUFI,KAVE,CAUIC,GAAG,IAAIX,KAAK,CAACW,GAAD,CAVhB;AAUuB;;AAAA;;AAE3B,SAAShB,MAAT,GAAiB;AACba,EAAAA,YAAY,CAACI,UAAb,CAAwB,aAAxB;AACH","sourcesContent":["import React, {useState, useContext} from 'react';\r\nimport {BehaviorSubject} from 'rxjs';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\n export const autenticationService = {\r\n     login,\r\n     logout,\r\n };\r\n\r\n     function login(item){\r\n         const cargoUtil = JSON.stringify(item);\r\n         alert(cargoUtil);\r\n         fetch(\"http://localhost/IniciaSessio.php\",{\r\n             method:\"POST\",\r\n             headers: {\r\n                 \"Content-Type\": 'application/json'\r\n             },\r\n             body: cargoUtil\r\n         }).then(res=>res.json()\r\n         ).then((res)=>{ alert(res);\r\n             localStorage.setItem('currentUser', JSON.stringify(res));\r\n         return res}\r\n     ).catch(err => alert(err))};\r\n\r\n     function logout(){\r\n         localStorage.removeItem('currentUser')\r\n     }"]},"metadata":{},"sourceType":"module"}