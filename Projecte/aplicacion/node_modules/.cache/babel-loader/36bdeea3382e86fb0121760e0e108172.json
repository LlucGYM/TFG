{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function useTiquets() {\n  _s();\n\n  const {\n    jwt\n  } = useContext(Context);\n  const [tiquets, setTiquets] = useState();\n  const compraTiquets = useCallback(dies => {\n    const item = {};\n    item['dies'] = dies;\n    item['jwt'] = jwt;\n    item['pagat'] = false;\n    const carga = JSON.stringify(item);\n    console.log(carga);\n    fetch(\"http://localhost/CompraTiquets.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        alert(\"Error en la compra\");\n      } else {\n        alert(\"La compra s'ha realitzat correctament\");\n        setTiquets(res);\n      }\n    });\n  });\n  const vistaTiquets = useCallback(() => {\n    const carga = JSON.stringify(jwt);\n    fetch(\"http://localhost/VistaTiquets.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        alert(\"Error al carregar els tiquets\");\n      } else {\n        setTiquets(res);\n      }\n    });\n  });\n  return {\n    compraTiquets,\n    tiquets,\n    vistaTiquets\n  };\n}\n\n_s(useTiquets, \"GzPB3sJB5x98fHPJ+/GmMZDoHUo=\");\n\n;","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/Servei_CompraTiquets.js"],"names":["React","useCallback","useContext","useState","Context","useTiquets","jwt","tiquets","setTiquets","compraTiquets","dies","item","carga","JSON","stringify","console","log","fetch","method","headers","body","then","res","json","alert","vistaTiquets"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,QAAxC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,eAAe,SAASC,UAAT,GAAuB;AAAA;;AAClC,QAAM;AAACC,IAAAA;AAAD,MAAQJ,UAAU,CAACE,OAAD,CAAxB;AACA,QAAM,CAACG,OAAD,EAASC,UAAT,IAAuBL,QAAQ,EAArC;AAEA,QAAMM,aAAa,GAAGR,WAAW,CAAES,IAAD,IAAU;AACxC,UAAMC,IAAI,GAAG,EAAb;AACAA,IAAAA,IAAI,CAAC,MAAD,CAAJ,GAAeD,IAAf;AACAC,IAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcL,GAAd;AACAK,IAAAA,IAAI,CAAC,OAAD,CAAJ,GAAgB,KAAhB;AACA,UAAMC,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAeH,IAAf,CAAd;AACAI,IAAAA,OAAO,CAACC,GAAR,CAAYJ,KAAZ;AACAK,IAAAA,KAAK,CAAC,oCAAD,EAAuC;AACxCC,MAAAA,MAAM,EAAE,MADgC;AAExCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF+B;AAKxCC,MAAAA,IAAI,EAAER;AALkC,KAAvC,CAAL,CAMGS,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAG,CAACA,GAAJ,EAAQ;AACJE,QAAAA,KAAK,CAAC,oBAAD,CAAL;AACH,OAFD,MAEM;AACFA,QAAAA,KAAK,CAAC,uCAAD,CAAL;AACAhB,QAAAA,UAAU,CAACc,GAAD,CAAV;AACH;AACJ,KAfD;AAgBH,GAvBgC,CAAjC;AAyBA,QAAMG,YAAY,GAAGxB,WAAW,CAAC,MAAM;AACnC,UAAMW,KAAK,GAAGC,IAAI,CAACC,SAAL,CAAeR,GAAf,CAAd;AACAW,IAAAA,KAAK,CAAC,mCAAD,EAAsC;AACvCC,MAAAA,MAAM,EAAE,MAD+B;AAEvCC,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX,OAF8B;AAKvCC,MAAAA,IAAI,EAAER;AALiC,KAAtC,CAAL,CAMGS,IANH,CAMQC,GAAG,IAAI;AACX,aAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,KARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACb,UAAG,CAACA,GAAJ,EAAQ;AACJE,QAAAA,KAAK,CAAC,+BAAD,CAAL;AACH,OAFD,MAEM;AACFhB,QAAAA,UAAU,CAACc,GAAD,CAAV;AACH;AACJ,KAdD;AAeH,GAjB+B,CAAhC;AAoBA,SAAM;AACFb,IAAAA,aADE;AAEFF,IAAAA,OAFE;AAGFkB,IAAAA;AAHE,GAAN;AAKH;;GAtDuBpB,U;;AAsDvB","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function useTiquets () {\r\n    const {jwt} = useContext(Context);\r\n    const [tiquets,setTiquets] = useState();\r\n\r\n    const compraTiquets = useCallback((dies) => {\r\n        const item = {};\r\n        item['dies'] = dies;\r\n        item['jwt'] = jwt;\r\n        item['pagat'] = false;\r\n        const carga = JSON.stringify(item);\r\n        console.log(carga);\r\n        fetch(\"http://localhost/CompraTiquets.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                alert(\"Error en la compra\");\r\n            }else {\r\n                alert(\"La compra s'ha realitzat correctament\");\r\n                setTiquets(res);\r\n            }\r\n        });\r\n    })\r\n\r\n    const vistaTiquets = useCallback(() => {\r\n        const carga = JSON.stringify(jwt);\r\n        fetch(\"http://localhost/VistaTiquets.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                alert(\"Error al carregar els tiquets\");\r\n            }else {\r\n                setTiquets(res);\r\n            }\r\n        });\r\n    })\r\n\r\n\r\n    return{\r\n        compraTiquets,\r\n        tiquets,\r\n        vistaTiquets\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}