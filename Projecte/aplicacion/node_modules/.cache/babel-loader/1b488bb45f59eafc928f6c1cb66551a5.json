{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function useMenu() {\n  _s();\n\n  const {\n    jwt\n  } = useContext(Context);\n  const [afegit, setAfegit] = useState(false);\n  const [menus, setMenus] = useState(null);\n  const [profilesmenus, setProfilesMenus] = useState(null);\n  const afegirMenu = useCallback(item => {\n    item['jwt'] = jwt;\n    const carga = JSON.stringify(item);\n    fetch(\"http://localhost/afegirMenu.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (res) {\n        alert(\"S'ha afegit el menú correctament\");\n        setAfegit(true);\n      } else {\n        alert(\"No s'ha pogut afegir el menú\");\n      }\n    });\n  });\n  const eliminaMenu = useCallback(item => {\n    const carga = JSON.stringify(item);\n    fetch(\"http://localhost/EliminaMenu.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (res) {\n        window.location.reload();\n        alert(\"S'ha eliminat el menú correctament\");\n      } else {\n        alert(\"No s'ha pogut eliminar el menú\");\n      }\n    });\n  });\n  const CategoriesMenu = useCallback(() => {\n    const carga = JSON.stringify(jwt);\n    fetch(\"http://localhost/CategoriesMenu.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        alert(\"No es pot visualitzar\");\n      } else {\n        setMenus(res);\n      }\n    });\n  });\n  const vistaMenu = useCallback(val => {\n    const carga = JSON.stringify(val);\n    fetch(\"http://localhost/VistaMenus.php\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": 'application/json'\n      },\n      body: carga\n    }).then(res => {\n      return res.json();\n    }).then(res => {\n      if (!res) {\n        setProfilesMenus(null);\n      } else {\n        setProfilesMenus(res);\n      }\n    });\n  });\n  return {\n    afegirMenu,\n    afegit,\n    CategoriesMenu,\n    menus,\n    vistaMenu,\n    profilesmenus,\n    eliminaMenu\n  };\n}\n\n_s(useMenu, \"lFQQMlnp8x0arXTIljZ7J8LP7ok=\");\n\n;","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/Dossier TFG Lucas Garrido Antolino/Projecte/aplicacion/src/Servicio/Servei_Menu.js"],"names":["React","useCallback","useContext","useState","Context","useMenu","jwt","afegit","setAfegit","menus","setMenus","profilesmenus","setProfilesMenus","afegirMenu","item","carga","JSON","stringify","fetch","method","headers","body","then","res","json","alert","eliminaMenu","window","location","reload","CategoriesMenu","vistaMenu","val"],"mappings":"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","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function useMenu () {\r\n    const {jwt} = useContext(Context);\r\n    const [afegit, setAfegit] = useState(false);\r\n    const [menus, setMenus] = useState(null);\r\n    const [profilesmenus, setProfilesMenus] = useState(null);\r\n\r\n    const afegirMenu = useCallback((item) => {\r\n        item['jwt'] = jwt;\r\n        const carga = JSON.stringify(item);\r\n        fetch(\"http://localhost/afegirMenu.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(res){\r\n                alert(\"S'ha afegit el menú correctament\");\r\n                setAfegit(true);\r\n            }else {\r\n                alert(\"No s'ha pogut afegir el menú\");\r\n            }\r\n        });\r\n    })\r\n\r\n    const eliminaMenu = useCallback((item) => {\r\n        const carga = JSON.stringify(item);\r\n        fetch(\"http://localhost/EliminaMenu.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(res){\r\n                window.location.reload();\r\n                alert(\"S'ha eliminat el menú correctament\");\r\n            }else {\r\n                alert(\"No s'ha pogut eliminar el menú\");\r\n            }\r\n        });\r\n    })\r\n\r\n    const CategoriesMenu = useCallback(() => {\r\n        const carga = JSON.stringify(jwt);\r\n        fetch(\"http://localhost/CategoriesMenu.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                alert(\"No es pot visualitzar\");\r\n            }else {\r\n                setMenus(res);\r\n            }\r\n        });\r\n    })\r\n\r\n    const vistaMenu = useCallback((val) => {\r\n        const carga = JSON.stringify(val);\r\n        fetch(\"http://localhost/VistaMenus.php\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-Type\": 'application/json'\r\n            },\r\n            body: carga\r\n        }).then(res => {\r\n            return res.json()\r\n        }).then((res) => {\r\n            if(!res){\r\n                setProfilesMenus(null);\r\n            }else {\r\n                setProfilesMenus(res);\r\n            }\r\n        });\r\n    })\r\n\r\n\r\n\r\n    return{\r\n        afegirMenu,\r\n        afegit,\r\n        CategoriesMenu,\r\n        menus,\r\n        vistaMenu,\r\n        profilesmenus,\r\n        eliminaMenu\r\n    }\r\n};"]},"metadata":{},"sourceType":"module"}