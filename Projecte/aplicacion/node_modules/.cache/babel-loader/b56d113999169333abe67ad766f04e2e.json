{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useContext, useState } from 'react';\nimport Context from \"../Context/UserContextProvider\";\nexport default function ServeiTotsInfants() {\n  _s();\n\n  const {\n    jwt,\n    setJWT\n  } = useContext(Context);\n  const [profiles, setProfiles] = useState({});\n  const [subscrits, setSubscrits] = useState(false);\n  const cursos = [\"P3\", \"P4\", \"P5\", \"1r\", \"2n\", \"3r\", \"4t\", \"5e\", \"6e\"];\n  const getInfants = useCallback(() => {\n    const item = {};\n    cursos.map(curs => {\n      item['curs'] = curs;\n      item['jwt'] = jwt;\n      const cargoUtil = JSON.stringify(item);\n      fetch(\"http://localhost/TotsInfants.php\", {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": 'application/json'\n        },\n        body: cargoUtil\n      }).then(res => {\n        return res.json();\n      }).then(res => {\n        setProfiles(prevProfile => ({ ...prevProfile,\n          [curs]: res\n        }));\n\n        if (!res) {\n          setProfiles(null);\n        } else {\n          setSubscrits(true);\n        }\n      }).catch(e => alert(e));\n    });\n  });\n  return {\n    profiles,\n    getInfants,\n    subscrits\n  };\n}\n\n_s(ServeiTotsInfants, \"HfI51hlqsaEU5ZpQiDUMokgX78o=\");\n\n_c = ServeiTotsInfants;\n\nvar _c;\n\n$RefreshReg$(_c, \"ServeiTotsInfants\");","map":{"version":3,"sources":["C:/Users/Lucas/OneDrive/Escritorio/TFG/Projecte/aplicacion/src/Servicio/Servei_TotsInfants.js"],"names":["React","useCallback","useContext","useState","Context","ServeiTotsInfants","jwt","setJWT","profiles","setProfiles","subscrits","setSubscrits","cursos","getInfants","item","map","curs","cargoUtil","JSON","stringify","fetch","method","headers","body","then","res","json","prevProfile","catch","e","alert"],"mappings":";;AAAA,OAAOA,KAAP,IAAeC,WAAf,EAA4BC,UAA5B,EAAwCC,QAAxC,QAAuD,OAAvD;AACA,OAAOC,OAAP,MAAoB,gCAApB;AAEA,eAAe,SAASC,iBAAT,GAA6B;AAAA;;AACxC,QAAM;AAACC,IAAAA,GAAD;AAAMC,IAAAA;AAAN,MAAgBL,UAAU,CAACE,OAAD,CAAhC;AACA,QAAM,CAACI,QAAD,EAAWC,WAAX,IAA0BN,QAAQ,CAAC,EAAD,CAAxC;AACA,QAAM,CAACO,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAC,KAAD,CAA1C;AACA,QAAMS,MAAM,GAAG,CAAC,IAAD,EAAM,IAAN,EAAW,IAAX,EAAgB,IAAhB,EAAqB,IAArB,EAA0B,IAA1B,EAA+B,IAA/B,EAAoC,IAApC,EAAyC,IAAzC,CAAf;AAEA,QAAOC,UAAU,GAAGZ,WAAW,CAAC,MAAM;AAClC,UAAMa,IAAI,GAAG,EAAb;AACAF,IAAAA,MAAM,CAACG,GAAP,CAAYC,IAAD,IAAU;AACbF,MAAAA,IAAI,CAAC,MAAD,CAAJ,GAAeE,IAAf;AACAF,MAAAA,IAAI,CAAC,KAAD,CAAJ,GAAcR,GAAd;AACA,YAAMW,SAAS,GAAGC,IAAI,CAACC,SAAL,CAAeL,IAAf,CAAlB;AACAM,MAAAA,KAAK,CAAC,kCAAD,EAAqC;AACtCC,QAAAA,MAAM,EAAE,MAD8B;AAEtCC,QAAAA,OAAO,EAAE;AACL,0BAAgB;AADX,SAF6B;AAKtCC,QAAAA,IAAI,EAAEN;AALgC,OAArC,CAAL,CAMGO,IANH,CAMQC,GAAG,IAAI;AACX,eAAOA,GAAG,CAACC,IAAJ,EAAP;AACH,OARD,EAQGF,IARH,CAQSC,GAAD,IAAS;AACbhB,QAAAA,WAAW,CAAEkB,WAAD,KAAkB,EAC1B,GAAGA,WADuB;AAE1B,WAACX,IAAD,GAAQS;AAFkB,SAAlB,CAAD,CAAX;;AAIA,YAAI,CAACA,GAAL,EAAU;AACNhB,UAAAA,WAAW,CAAC,IAAD,CAAX;AACH,SAFD,MAEO;AACHE,UAAAA,YAAY,CAAC,IAAD,CAAZ;AACH;AACJ,OAlBD,EAkBGiB,KAlBH,CAkBSC,CAAC,IAAIC,KAAK,CAACD,CAAD,CAlBnB;AAmBP,KAvBD;AAwBH,GA1B8B,CAA/B;AA6BA,SAAO;AACHrB,IAAAA,QADG;AAEHK,IAAAA,UAFG;AAGHH,IAAAA;AAHG,GAAP;AAKH;;GAxCuBL,iB;;KAAAA,iB","sourcesContent":["import React, {useCallback, useContext, useState} from 'react';\r\nimport Context from \"../Context/UserContextProvider\";\r\n\r\nexport default function ServeiTotsInfants() {\r\n    const {jwt, setJWT} = useContext(Context);\r\n    const [profiles, setProfiles] = useState({});\r\n    const [subscrits, setSubscrits] = useState(false);\r\n    const cursos = [\"P3\",\"P4\",\"P5\",\"1r\",\"2n\",\"3r\",\"4t\",\"5e\",\"6e\"]\r\n\r\n    const  getInfants = useCallback(() => {\r\n        const item = {};\r\n        cursos.map((curs) => {\r\n                item['curs'] = curs;\r\n                item['jwt'] = jwt\r\n                const cargoUtil = JSON.stringify(item);\r\n                fetch(\"http://localhost/TotsInfants.php\", {\r\n                    method: \"POST\",\r\n                    headers: {\r\n                        \"Content-Type\": 'application/json'\r\n                    },\r\n                    body: cargoUtil\r\n                }).then(res => {\r\n                    return res.json()\r\n                }).then((res) => {\r\n                    setProfiles((prevProfile) => ({\r\n                        ...prevProfile,\r\n                        [curs]: res\r\n                    }))\r\n                    if (!res) {\r\n                        setProfiles(null);\r\n                    } else {\r\n                        setSubscrits(true);\r\n                    }\r\n                }).catch(e => alert(e));\r\n        })\r\n    })\r\n\r\n\r\n    return {\r\n        profiles,\r\n        getInfants,\r\n        subscrits,\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}